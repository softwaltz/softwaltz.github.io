window.onload = function (e) {
    liff.init(function (data) {
        initializeApp(data);
    });
};

function initializeApp(data) {
    document.getElementById('languagefield').textContent = data.language;
    document.getElementById('viewtypefield').textContent = data.context.viewType;
    document.getElementById('useridfield').textContent = data.context.userId;
    document.getElementById('utouidfield').textContent = data.context.utouId;
    document.getElementById('roomidfield').textContent = data.context.roomId;
    document.getElementById('groupidfield').textContent = data.context.groupId;

    // openWindow call
    document.getElementById('openwindowbutton').addEventListener('click', function () {
        liff.openWindow({
            url: 'https://line.me'
        });
    });

    // closeWindow call
    document.getElementById('closewindowbutton').addEventListener('click', function () {
        liff.closeWindow();
    });

    // sendMessages call
    document.getElementById('sendmessagebutton').addEventListener('click', function () {
        liff.sendMessages([{
            type: 'text',
            text: "You've successfully sent a message! Hooray!"
        }, {
            type: 'sticker',
            packageId: '2',
            stickerId: '144'
        }, {
            type: 'image',
			originalContentUrl: "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8QEBEQCgwSExIQEw8QEBD/2wBDAQMDAwQDBAgEBAgQCwkLEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBD/wAARCAKpAwEDASIAAhEBAxEB/8QAHAABAAIDAQEBAAAAAAAAAAAAAAgJAwYHBAUC/8QAMRABAAIBBAEDBAEEAQMFAAAAAAECAwQFBhEHCBIhCRMiMRQVIzJBYRZRkSRCUlNy/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/ALUwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABoPD+X+T948nc24xynxd/Q+J7J/C/6d5D/U8Wb+tfcxzbP/AGK/lh+3bqv5ftvwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIJeTfWz6lfSn5F3afUr4Iw7v4t1e6aiuzcn4lb3ZMOktkmNPTLXJf2Wy+2OprknDM2t3EzERE9q8EevL0yeofV12fhHP8AFod8yX9mPZt7p/B1mWeon+1W0+zLP7+MdrTHU9x11M9033Ydj5Rs+r49yXZtDu21bhitg1eh12npqNPqMU/umTHeJres/wC4mJhXV5++jL4+5Lmzb96eOZ5eHaye7xs27zk1e3zbv4jHn7nPhj/9fe/46BZIKfuOeQ/qXegDJTH5G4luvP8Ax1oIiM1dRqLbno8WCsfvFrcfuzaOIiOqxliMcf8A1z8LGPTR6uPDXqo4vG9+ON/rj3XTUidz2DWzXHuG32+P88ff5457jrLT3UnvruLRasB2kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABFb1C/T88YeVNfTyL4p1N/FXk/br/wAnb+ScdpOmrkzR3MfycOKaxfvuYnJX25Pn5m0R7JlSAhL4Q9ZfP/F/OtN6bPXTt2DjXMLzXDx/mNKezaOR0iYrFrZYiKY8szMflEVpMz7bVxXiK3m00bzH4S8ZefOGangflTi2m3ras/d8fv8AxzaXL1MRmw5I/LHkjv8AyrP/ABPcTMTEacfqp+nttv8A6edV5z8D7dMfjkv7eTca00T1Faz/AIZ8FImOoiJj8OutPSO5CeQ0Lwt5z8YeoHhOl574r5Tpd427PWsZ8VbxGp0OaY7nBqcXfuw5I/8Ajb9x1as2rMWnfQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj1GowaTBk1Wqz48OHDS2TJkyWitaViO5tMz8RER8zMuEc+9eHpE8bU1H/AFH544znzaa0Uvptpz23PN75juK+zSxkn/iZnqIn9zAO9iBmq+sH4N1OTUZeIeI/KXIdv0sUjNrtNtWnrira3XdZ/vTMdTasfl13M/Hx1M5MP1PeWch02HN489D/AJj5DbVW708xoMlMWWk+/q0XxYcv+qxPxEx/n8/j8hO8QTp6y/XnvVNXq+P/AE9N20unxUtbHXct6nHljuIms+2+LHN5iJ+a1jvv4+JiYeCfWp6/tqwRl3r6fO6aqcl5rj/g63PM16j591a48kx+/wBz1AJ9ivbkfqo+qRq9Zg0XE/RNsu1zqIxVidfkya2ItaOpmclNVhpT5mJ/L/GIn3d/tr0+Ivq1eo7Hlx+R/K+0eIth1NbTbQ7bnx4NRET3HtrOi9+aYn4ia5NRHUf677iQw+uPZOLeiPm2D1GemnyPoOGc45NrMen3jgFY+9ouQ0m1rW1P8Wk945rNom0/jSfd+E0vaYy2McP3vV8l4jsnI9ftOTa9Vuu3abW59Dkv77aXJlxVvbFNoiO5rNpr31HfSLPgP6Y/gXwtzDS+St+3HffIHMdFqqa7Tblv2eJx6fVUtW1M9MNP3kravui2S15ifmOpiJiXwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK7vquU1NuUeFdP5L3netJ4P3De8mj5bXabTS1c82x2x3yzET7+sdclqV9szH2ssxE2mEkvD/pA9GvFti2vf/GHiHhO66TNWur0O85sVN2yZe6RWMmPU55yT1MR/7ZiO+5iInt1/nnAeGeT+J7jwXyBxzRb7sO7Ypw6vRaunupev+piY6mtonqa3rMWrMRNZiYiUAOX+kn1W+i3Xaznnoc55r+T8MnLbVa7x7vEzqrUj5m32Mc9Rm/XXeOceefxjvJ8yCxvT6fT6TDTTaXBjw4ccdUx46xWtY/7REfEMiHPpb+pZ4n866ynBfIukr425/iy/xMu17rqYpp9TqI7ia4MuSKzF5mJ/tZIi0T+MTeepmYwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI8epn0J+AvVFp8mv5hx++08nrh+1puRbTaMOrp1NrRGSvU481fdeZmL1m3zPVq/tFjR+KvqDegice9+PeV388eMNrx2/lcdyzljV6fT+6vzhwWtky4pj9x9i2WtfztbH13Ky4Bx703eqvxD6peL35B4z3ubavSYsV9y2jVe2mt2+14nqMuOJn491b1i0TMW9szE9TEz2FBz1W+AfIfhTyXh9a3pL2T7nItHbJfnnFdNOSMXJdDaPdlzfbrbq2WOu7VrWbWt7csROSkxeR/pv9SPjf1ReOcHkXxxrM32q5Z0u4bfqqxXVbdqorFrYcsRMxPxaJi1ZmtomJie+4gOqAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAw6vURpNLm1U4cub7OO2T7eKnuvfqO/bWP8Acz+oj/ugT6ffq++IfKPMr8K8scRy+Mcupzzj27ctZulNTt8/v8dVmtTFOmt8ViJmtqfM+61Oo7n4qk+qd6DdLoMWp9THhvZceDD7qU5TsujwW+cl7zEa/FWvcR3Nq1yUiIj/ABvH7uC1jDmxajFTPgy0yYslYvS9LRNbVmO4mJj9xMP2ox9En1Jue+m/+ncA8jYtXyfxpGWcVaRHv1u01mbWmdNa0xF6xa3unFaf137Zqut4F5B4V5R4roeb+PuSaLfdi3Ks202t0l/dS/U9THz81tExMTWYiYn9wDYQAFanjzHj9KH1Wd88a7TGLHxTzbt1tzxabHSta6TPljNnp1Ws/j1qMGpx1jqIimePj4iU4fOfqL8QenPjF+UeVuYaTa6Wx3vpNFFovrddav7pp8PfuyT8xHfxWO/mYj5QI9Fu1cu9Y3rc5L63+Rce3Da+GcfjNouM01Ptmts0YP42LBHz1M0w3yZck07rGXJHz8gtBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYdXpNLr9Lm0Ou02LU6bU47Yc2HNSL0yUtHVq2rPxMTEzExPxMSzAK7vUp9Hzxz5D3LW8s8DckxcD3LU091tk1GC2basuXuO5ras/c08T8zMRGSvfXVawiZG2evT6XmLXZtLXb44xyO1a5dRjn+p7T9+szWuSKz7bYMvzEe6a190TSJ93URF4j5HLeJcZ55xrcuHcy2TSbxsm76e2l1uh1WP34s2K37iY/8TEx8xMRMTExEgrm4T5E+r5zbju0eQ+FV8b8o4/vmljWaK+ny7b9nJjvPcdz9yl4tX5rNfd3WYmLR7ol7t/4t9Z3yDlx4snLOG8J02elrXxbfn0OOuKZr/jOSuPPm7+ZiPbeY7+e/iJefQ7Vz/6U/kbU67veeX+mjmGtr9+9O82q4vrLz1S9qd9T38Vm8RWMtYrE9ZK0rawPi/k7x7zTYti5Nxfme0bhtnJ5vXZtRj1VYjcLUi83rhiZib2rGPJM1iO4ilu4+JBBfxB9JnS67lk+SfV95U1/k/fr2jJfb8eq1E6XJaPn+9qctoz5qxM/FYjFHx8+6Jmqf+wce2HimzaTjvGNl0O0bVoMf2tLotDp6YMGCn79tKUiK1juZn4j/b6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD5PKuK8b5zxvceIcv2XSbvsu76e+l1ui1WOL4s+K0dTW0T/wCYn9xMRMdTCi71ieAd/wDRf6kuJaPjHJNVXiVtzpyniGTLqbTG1WjWVnJim1ojq+OcOG03iOprOOZmZiy+dz7yr4C8Qeb9Tx/V+VOEaTkOXiurtrdotqMuWn8bNaaTaesd6xeJ+3Tut/dWfbHcA6CAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/2Q==",
			previewImageUrl: "data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/2Q=="
        }]).then(function () {
            // window.alert("Message sent");
            liff.closeWindow();
        }).catch(function (error) {
            window.alert("Error sending message: " + error);
        });
    });

    // get access token
    document.getElementById('getaccesstoken').addEventListener('click', function () {
        const accessToken = liff.getAccessToken();
        document.getElementById('accesstokenfield').textContent = accessToken;
        toggleAccessToken();
    });

    // get profile call
    document.getElementById('getprofilebutton').addEventListener('click', function () {
        liff.getProfile().then(function (profile) {
            document.getElementById('useridprofilefield').textContent = profile.userId;
            document.getElementById('displaynamefield').textContent = profile.displayName;

            const profilePictureDiv = document.getElementById('profilepicturediv');
            if (profilePictureDiv.firstElementChild) {
                profilePictureDiv.removeChild(profilePictureDiv.firstElementChild);
            }
            const img = document.createElement('img');
            img.src = profile.pictureUrl;
            img.alt = "Profile Picture";
            profilePictureDiv.appendChild(img);

            document.getElementById('statusmessagefield').textContent = profile.statusMessage;
            toggleProfileData();
        }).catch(function (error) {
            window.alert("Error getting profile: " + error);
        });
    });
}

function toggleAccessToken() {
    toggleElement('accesstokendata');
}

function toggleProfileData() {
    toggleElement('profileinfo');
}

function toggleElement(elementId) {
    const elem = document.getElementById(elementId);
    if (elem.offsetWidth > 0 && elem.offsetHeight > 0) {
        elem.style.display = "none";
    } else {
        elem.style.display = "block";
    }
}
